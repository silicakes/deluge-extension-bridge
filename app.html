<!DOCTYPE html>
<html>
  <head>
    <script src="./scripts/unpack.js"></script>
    <script src="./scripts/app.js"></script>
    <link rel="stylesheet" href="app.css">
    <title>delugeapp</title>
  </head>
  <body>
     <p>Change the midi device:
     <br/>
     in: <select id="chooseIn"><option label="(none)" value="" id="noneInput"/></select>
     out: <select id="chooseOut"><option label="(none)" value="" id="noneOutput"/></select>
     </p>
     <div id="midiStatus">loading...</div>
     <button type="button" id="intervalButton">start Display Refresh</button>
     <button type="button" id="flipButton">Switch display type</button>
     <button type="button" id="getDebugButton">get debug messages</button>
     <button type="button" id="monitorModeButton">Monitor UI Changes</button>

     <p>
     screen: <br/>
     <canvas id="screenCanvas" width="900" height="274"></canvas>
     <p/>
     
     <div class="controls-section">
       <div class="control-group">
         <h3>Display Controls</h3>
         <button type="button" id="pingButton">Ping Test</button>
         <button type="button" id="getOledButton">Get OLED</button>
         <button type="button" id="get7segButton">Get 7-Segment</button>
         <button type="button" id="testDecodeButton">Decode Test Data</button>
         <button type="button" id="test7segButton">Test 7-Segment</button>
       </div>
       
       <div class="control-group">
         <h3>Deluge Info</h3>
         <button type="button" id="getVersionButton">Get Firmware Version</button>
         <button type="button" id="getFeaturesButton">Get Features Status</button>
       </div>
       
       <div class="control-group">
         <h3>Custom SysEx</h3>
         <div class="custom-sysex">
           <input type="text" id="customSysExInput" placeholder="F0 7D ... F7" />
           <button type="button" id="sendCustomButton">Send</button>
         </div>
         <div class="sysex-examples">
           Examples: 
           <span class="sysex-example" onclick="document.getElementById('customSysExInput').value='F0 7D 03 00 01 F7'">F0 7D 03 00 01 F7</span> (debug),
           <span class="sysex-example" onclick="document.getElementById('customSysExInput').value='F0 7D 03 01 01 F7'">F0 7D 03 01 01 F7</span> (features),
           <span class="sysex-example" onclick="document.getElementById('customSysExInput').value='F0 7D 03 02 01 F7'">F0 7D 03 02 01 F7</span> (version),
           <span class="sysex-example" onclick="document.getElementById('customSysExInput').value='F0 7D 00 F7'">F0 7D 00 F7</span> (ping)
         </div>
       </div>
     </div>

     <p>debug output: 
       <button type="button" id="clearDebugButton">Clear</button>
       <button type="button" id="autoDebugButton">Auto Debug</button>
     </p>
     <div id="debugOutput" class="outbox" style="max-height: 300px; overflow-y: auto; font-family: monospace;">
     </div>

     <div id="dataLog"></div>
     
     <script>
       // Helper for example clicks
       document.querySelectorAll('.sysex-example').forEach(el => {
         el.addEventListener('click', function() {
           document.getElementById('customSysExInput').value = this.textContent;
         });
       });
     </script>
  </body>
</html>
